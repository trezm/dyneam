"use strict";(globalThis.webpackChunkbluehostPlugin=globalThis.webpackChunkbluehostPlugin||[]).push([[786],{884:(e,t,o)=>{o.d(t,{vc:()=>b,ud:()=>f,CH:()=>m,Rt:()=>g});var n=o(9307),r=(o(2067),o(6483)),s=o(5778),c=o(2819),l=o(9818),i=o(5736),u=o(6989),a=o.n(u),d=o(504);const p="core/notices",w="newfold-tour-notice",h="newfold-tour-relauncher",m=async e=>{for(;null===document.querySelector(e);)await new Promise((e=>requestAnimationFrame(e)));return document.querySelector(e)},f=(e,t,o)=>{const n=g(e,t);return n&&(e[n]=(0,c.merge)(e[n],o)),e},g=(e,t)=>{const o=(0,c.findIndex)(e,{id:t});return-1!==o&&o},b=e=>{let{type:t,steps:o,options:u={}}=e;const m=(0,c.merge)({defaultStepOptions:{cancelIcon:{enabled:!0}},useModalOverlay:!0},{type:t,...u});return(0,n.createElement)(s.u4,{steps:o,tourOptions:m},(0,n.createElement)((()=>(window.nfTour=(0,n.useContext)(s.yP),((e,t)=>{(0,d.Rx)();const o=()=>{jQuery("a."+h).on("click",(e=>{e.preventDefault(),t.start()}))};(()=>{const e=document.getElementById("newfold-editortours-loading");e&&((0,d.Vi)(),e.classList.add("loaded"))})();const n=(e,t)=>{let o=null;e.step?o=e.step.id:e.currentStep&&(o=e.currentStep.id);let n={action:`${t}-tour`,category:"tour",data:{tour:e.tour.options.type,step:o}};a()({path:"/newfold-notifications/v1/notifications/events",method:"POST",data:n})},r={id:w,actions:[{url:"#",label:(0,i.__)("Reopen Tour","bluehost-wordpress-plugin"),className:h}]},s=(0,c.capitalize)(t.options.type);t.on("active",(()=>{(0,l.dispatch)(p).removeNotice(w)})),t.on("show",(e=>{n(e,"show-step")})),t.on("hide",(()=>{(0,l.dispatch)(p).createInfoNotice(s+" "+(0,i.__)("Page tour closed.","bluehost-wordpress-plugin"),r).then((()=>{o()}))})),t.on("complete",(e=>{n(e,"complete"),(0,l.dispatch)(p).createSuccessNotice(s+" "+(0,i.__)("Page tour is complete!","bluehost-wordpress-plugin"),r).then((()=>{o()}))})),t.on("cancel",(e=>{n(e,"cancel"),(0,l.dispatch)(p).createInfoNotice(s+" "+(0,i.__)("Page tour closed. You can restart it below.","bluehost-wordpress-plugin"),r).then((()=>{o()}))}))})(0,window.nfTour),window.nfTourContext===(0,r.getQueryArg)(window.location.href,"tour")?(0,n.createElement)(n.Fragment,null,window.nfTour.start()):(0,n.createElement)(n.Fragment,null))),null))}},9786:(e,t,o)=>{o.r(t),o.d(t,{ContactTour:()=>a,default:()=>d});var n=o(9307),r=o(6989),s=o.n(r),c=o(6483),l=o(9818),i=o(2819),u=o(884);const a=()=>{const[e,t]=(0,n.useState)(!1),[o,r]=(0,n.useState)([]),a=(0,c.addQueryArgs)("/newfold/v1/tours/blockeditor",{type:"contact",brand:"bluehost",lang:"en-us"});return(0,n.useEffect)((()=>{s()({path:a}).then((e=>{r((e=>{let t=e;const o=document.querySelector("li.toplevel_page_wpforms-overview");return t=(0,u.ud)(t,"show-wpforms-link",{beforeShowPromise:()=>new Promise((e=>{const t=(0,l.select)("core/edit-post").isFeatureActive("fullscreenMode");window.nfOverrideFullscreen=!1,t?(0,l.dispatch)("core/edit-post").toggleFeature("fullscreenMode").then((()=>{window.nfOverrideFullscreen=!0,e()})):e()}))}),t=(0,u.ud)(t,"show-wpforms-menu",{beforeShowPromise:()=>new Promise((e=>{o.classList.add("opensub"),e()})),when:{hide:()=>{o.classList.remove("opensub"),!0===window.nfOverrideFullscreen&&(0,l.dispatch)("core/edit-post").toggleFeature("fullscreenMode")}}}),t=(0,u.ud)(t,"final-polish",{beforeShowPromise:()=>new Promise((e=>{const t=(0,i.filter)((0,l.select)("core/block-editor").getBlocks(),["name","wpforms/form-selector"]);(0,i.isEmpty)(t)?e():(0,l.dispatch)("core/block-editor").selectBlock(t[0].clientId).then((()=>{e()}))}))}),t})(e)),t(!0)}))}),[]),!!e&&(0,n.createElement)(u.vc,{type:"contact",steps:o})},d=a}}]);